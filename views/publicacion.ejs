<%- include('./components/headerLogged') %>

<!-- Mostrar una publicación específica y permitir agregar comentarios -->
<div class="container">
  <h1><%= publicacion.titulo %></h1>
  <p><%= publicacion.contenido %></p>
  <p>Fecha de publicación: <%= publicacion.fecha_publicacion %></p>
  
  <h2>Carta asociada</h2>
  <p>Nombre de la carta: <%= publicacion.carta_nombre %></p>
  <img src="<%= publicacion.carta_imagen %>" alt="Imagen de la carta">
  
  <h2>Comentarios</h2>
  <% for (const comentario of comentarios) { %>
    <div class="comentario">
      <p><%= comentario.contenido %></p>
      <p>Fecha de comentario: <%= comentario.fecha_comentario %></p>
      <p>Autor: <%= comentario.autor_nombre %></p>
    </div>
  <% } %>
  
  <!-- Formulario para agregar un nuevo comentario -->
  <form action="/foro/publicacion/<%= publicacion.id_publicacion %>/comentarios" method="POST">
    <h3>Agregar comentario</h3>
    <textarea name="contenido" placeholder="Escribe tu comentario" required></textarea>
    <button type="submit">Enviar comentario</button>
  </form>
</div>